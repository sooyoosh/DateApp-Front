<div class="card">
    <p-table [value]="users" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>UserName</th>
                <th>Active Roles</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-item>
            <tr>
                <td>{{ item.username }}</td>
                <td>{{ item.roles }}</td>
                <td>
                    <p-button (onClick)="initalEditDialog(item)" label="Edit Roles" [outlined]="true" severity="warning" />
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>

  <p-dialog header="Edit Roles" [modal]="true" [(visible)]="editDialog" [style]="{ width: '25rem' }">
    <h2>user roles</h2>
    <div class="flex flex-column gap-2">
        @for (item of availableRoles; track $index) {
            <div style="margin-bottom: 20px;">
                <p-checkbox 
                [value]="item"
                [(ngModel)]="selectedRoles" 
                inputId="binary" />
                <span style="margin-left: 5px;">{{item}}</span>
            </div>
        }    
        <p-button (onClick)="updateRoles()" label="Edit Roles" [outlined]="true" severity="success" />
    </div>
  </p-dialog>
